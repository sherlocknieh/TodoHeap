# TodoHeap 用户手册

## 目录

- [快速开始](#快速开始)
- [账户管理](#账户管理)
- [任务管理](#任务管理)
- [视图模式](#视图模式)
- [AI 任务分解](#ai-任务分解)
- [优先级系统](#优先级系统)
- [设置与偏好](#设置与偏好)
- [常见问题](#常见问题)

## 快速开始

### 访问应用

访问 [TodoHeap 在线应用](https://sherlocknieh.github.io/TodoHeap/) 开始使用。

### 注册账户

1. 点击首页右上角「登录 / 注册」按钮
2. 切换到「注册」标签页
3. 输入邮箱地址和密码（至少 6 个字符）
4. 确认密码后点击「创建账号」
5. 注册成功后自动登录并跳转到任务管理页面

### 登录账户

1. 点击「登录 / 注册」按钮
2. 在「登录」标签页输入邮箱和密码
3. 点击「登录」按钮

## 账户管理

### 修改密码

1. 进入「设置」页面
2. 选择「账户」标签
3. 在「安全」部分点击「修改密码」
4. 输入当前密码、新密码并确认
5. 新密码需至少 6 个字符，且不能与旧密码相同

### 退出登录

在「设置」→「账户」→「退出账户」部分点击「退出登录」按钮。

### 删除账户

在「设置」→「账户」→「退出账户」部分点击「删除账户」按钮。此操作不可撤销，将永久删除所有数据。

## 任务管理

### 创建任务

#### 快速添加

在列表视图顶部的输入框中：
1. 输入任务标题
2. （可选）选择截止日期
3. （可选）选择优先级（P1/P2/P3）
4. 按回车键或点击「添加任务」按钮

#### 添加子任务

1. 在任务列表中点击任务右侧的「➕ 子任务」按钮
2. 输入子任务标题
3. 子任务将自动继承父任务的优先级和截止日期

### 编辑任务

1. 点击任务标题进入编辑模式
2. 修改标题后按回车或点击外部区域保存
3. 取消编辑按 ESC 键

### 完成任务

点击任务左侧的复选框标记为完成。再次点击可取消完成状态。

任务状态包括：
- **待办** (todo)：未开始的任务
- **进行中** (doing)：正在处理的任务
- **完成** (done)：已完成的任务

### 删除任务

1. 选择要删除的任务
2. 点击任务右侧的删除按钮
3. 确认删除操作

删除父任务时，其所有子任务也会被删除。

### 搜索任务

在列表视图顶部的搜索框中输入关键词，可实时过滤显示匹配的任务和子任务。

### 筛选任务

#### 状态筛选

点击顶部的筛选标签：
- **全部**：显示所有任务
- **待办**：仅显示待办任务
- **进行中**：仅显示进行中的任务
- **已完成**：仅显示已完成的任务

#### 优先级筛选

在优先级下拉菜单中选择：
- **全部**：显示所有优先级
- **P1 最高**：仅显示最高优先级任务
- **P2 较高**：仅显示较高优先级任务
- **P3 一般**：仅显示一般优先级任务

## 视图模式

TodoHeap 提供三种视图模式，可在侧边栏切换。

### 列表视图

以层级列表形式展示所有任务，支持：
- 查看任务层级关系
- 快速添加和编辑任务
- 搜索和筛选功能
- 显示任务统计信息（待办、今天、即将到期、已完成）

**使用场景**：日常任务管理、快速查看和编辑

### 树视图

以思维导图形式可视化任务结构，支持：
- 拖拽节点创建子任务
- 点击节点编辑任务标题
- 查看任务间的层级关系
- 自动保存视图状态

**使用场景**：规划复杂项目、理解任务结构

### 堆视图

以堆数据结构展示任务优先级，支持：
- 查看优先级排序（最高优先级在顶部）
- 可视化堆结构图
- 查看任务优先级分数
- 快速选择最高优先级任务

**使用场景**：确定下一步工作、优先级决策

## AI 任务分解

### 使用 AI 分解任务

1. 在树视图中选择一个任务节点
2. 在右侧面板的「AI 分解」区域输入分解指令
3. 例如：「将这个任务分解为 5 个具体的步骤」
4. 点击「分解」按钮
5. AI 将自动生成子任务并添加到任务树中

### 分解指令示例

- 「分解为 3 个步骤」
- 「按时间顺序分解」
- 「分解为技术实现步骤」
- 「分解为测试和部署步骤」

### 注意事项

- AI 分解功能需要网络连接
- 分解结果基于任务标题和上下文生成
- 可手动调整生成的子任务
- 建议对复杂任务使用此功能

## 优先级系统

### 优先级等级

- **P1（最高）**：紧急且重要的任务，需立即处理
- **P2（较高）**：重要但不紧急的任务
- **P3（一般）**：普通任务，可延后处理

### 优先级计算

系统根据以下因素自动计算任务优先级分数：

1. **基础优先级**：手动设置的优先级等级
2. **紧急度**：距离截止日期的天数
3. **完成度**：子任务的完成进度
4. **复杂度**：子任务数量
5. **状态**：任务当前状态（待办/进行中/完成）

### 查看优先级

- **列表视图**：任务右侧显示优先级标签
- **堆视图**：显示优先级分数和排序
- **树视图**：节点大小反映优先级

## 设置与偏好

### 主题设置

在「设置」→「主题」中选择：
- **浅色**：明亮界面，适合白天使用
- **深色**：暗色界面，保护眼睛

主题设置会自动保存并在下次访问时应用。

### 通知设置

在「设置」→「通知」中配置：
- **邮件通知**：接收重要更新和提醒的邮件
- **推送通知**：接收浏览器推送通知
- **任务提醒**：接收待办任务到期前的提醒

### 隐私设置

在「设置」→「隐私」中配置：
- **公开个人资料**：允许其他用户查看个人资料
- **分享进度统计**：允许收集使用数据以改进服务

## 常见问题

### 如何恢复误删的任务？

目前不支持任务恢复功能。删除操作不可撤销，请谨慎操作。

### 任务数据存储在哪里？

所有任务数据存储在 Supabase 云端数据库中，支持跨设备同步。

### 如何导出任务数据？

导出功能正在开发中，敬请期待。

### AI 分解功能需要付费吗？

目前 AI 分解功能免费使用，但可能需要网络连接。

### 如何批量操作任务？

批量操作功能正在开发中。目前需要逐个操作任务。

### 任务数量有限制吗？

目前没有硬性限制，但建议保持合理的任务数量以保证性能。

### 如何联系技术支持？

如遇问题，可在项目仓库提交 Issue 或联系项目维护者。

---

**最后更新**：2025年12月

